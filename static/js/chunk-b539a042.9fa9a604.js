(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b539a042"],{1462:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return c})),a.d(e,"g",(function(){return l})),a.d(e,"a",(function(){return d}));var i=a("b775");function n(t){return Object(i["a"])({url:"/data/dataset_info_new",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/data/show_images_new",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/data/show_images_xy_new_only",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/data/dataset_errinfo_new",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/data/show_images_new",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/data/subuser_info_new",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/data/describe",method:"post",data:t})}},2498:function(t,e){t.exports={shortcutKey:[81,87,69,82,84,65,83,68,70,71,90,88,67,86,66,89,85,73,79,80,72,74,75,76,186,78,77,188,190,191]}},"4ab2":function(t,e,a){"use strict";a("d1d9")},"5d6b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("div",{staticClass:"nodataset"},[t._v("当前数据集为空快去"),a("span",{staticStyle:{color:"red"},on:{click:function(e){return t.$router.push("/createData")}}},[t._v("创建一个数据集")]),t._v("吧！")])])},n=[],s=(a("df79"),a("2877")),r={},o=Object(s["a"])(r,i,n,!1,null,"dd182c5c",null);e["a"]=o.exports},"61e9":function(t,e,a){},"712e":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"j",(function(){return s})),a.d(e,"f",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"i",(function(){return l})),a.d(e,"c",(function(){return d})),a.d(e,"e",(function(){return u})),a.d(e,"d",(function(){return h})),a.d(e,"g",(function(){return g}));var i=a("b775");function n(t){return Object(i["a"])({url:"/data/create",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/data/label_image",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/data/distribute_images",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/data/user/create_errinfo",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/data/user/show_dataerr",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/data/user/show_dataerr_list",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/data/subuser/del_dataset",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/data/distribute_images_user",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/data/del_img",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/data/turn_down",method:"post",data:t})}},"94d4":function(t,e,a){"use strict";a("61e9")},ac5d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!==t.datasetList.length?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"label"},[a("div",{staticClass:"left"},[a("div",{staticClass:"datasetlist"},[void 0!==t.datasetList[t.currentDataset]?a("el-dropdown",[a("span",{staticClass:"el-dropdown-link dropdown"},[t._v(" "+t._s(t.datasetList[t.currentDataset].dataset_name)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.datasetList,(function(e,i){return a("el-dropdown-item",{key:i,nativeOn:{click:function(e){return t.setCurrentSetData(i)}}},[t._v(t._s(e.dataset_name))])})),1)],1):t._e(),a("div",{staticClass:"absorbed",on:{click:t.showAbsorbed}},[a("span",{class:0===t.absorbed?"left-nav":""},[t._v("常规")]),a("span",{class:1===t.absorbed?"left-nav":""},[t._v("待审核")]),a("span",{class:2===t.absorbed?"left-nav":""},[t._v("已驳回")]),"admin"===t.roles[0]?a("span",{class:3===t.absorbed?"left-nav":""},[t._v("通过")]):t._e()])],1),0!==t.imgList.length?a("div",{staticClass:"imglistbox"},t._l(t.imgList,(function(e,i){return a("div",{key:i,class:i!==t.thisimg?"imgbox":"imgbox heigImgBox",attrs:{id:"img"+i}},[a("div",{staticClass:"imgInfo"},[a("div",[a("div",{staticClass:"isLabel"},[null===e.bom_id?a("div",[t._v("未标注")]):"0"===e.bom_id?a("div",{staticClass:"NG"},[t._v("NG")]):"1"===e.bom_id?a("div",{staticClass:"OK"},[t._v("OK")]):a("div",[t._v("未标注")])]),a("div",{staticClass:"isShow"},[null===e.turn_down?a("div",[t._v("待复核")]):"0"===e.turn_down?a("div",[t._v("已驳回")]):"1"===e.turn_down?a("div",[t._v("通过")]):a("div",[t._v("待复核")])]),a("div",{staticClass:"isDistribution"},[t._v(t._s(e.subuser))])])]),i===t.currentimg&&"0"===e.turn_down?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"驳回原因："+t.reginfo,placement:"right"}},[a("el-image",{key:e.image_path,staticStyle:{height:"100%"},attrs:{src:e.image_path,fit:"contain",lazy:""},on:{click:function(e){return t.setCurrent(i)}}},[t._v(" 图片加载失败 ")])],1):a("el-image",{key:e.image_path,staticStyle:{height:"100%"},attrs:{src:e.image_path,fit:"contain",lazy:""},on:{click:function(e){return t.setCurrent(i)}}},[t._v(" 图片加载失败 ")])],1)})),0):t._e()]),a("div",{staticClass:"center"},[a("div",{staticClass:"centerInfo"},[a("div",{staticClass:"page prev",on:{click:t.prev}},[a("i",{staticClass:"el-icon-arrow-left"})]),void 0!==t.imgList[t.currentimg]?a("div",{staticClass:"centerinfo-con"},[t._v(" "+t._s(t.imgList[t.currentimg].image_name)+" "),a("br"),a("span",[t._v("标记类型统计：''")]),void 0!==t.errList[t.currentErrtype]?a("span",{style:{background:t.errList[t.currentErrtype].color,color:"#fff"}},[t._v("当前笔触："+t._s(t.errList[t.currentErrtype].err_list))]):t._e(),a("span",[t._v("标记框数量："+t._s(t.labelData.labelInfo.length)+" ")]),a("span",{on:{click:function(e){return t.gocurrentlsbel()}}},[t._v(" 第/总数："+t._s(t.currentimg+1+"/"+t.imgList.length))])]):t._e(),a("div",{staticClass:"page next",on:{click:t.next}},[a("i",{staticClass:"el-icon-arrow-right"})])]),t._m(0)]),0!==t.errList.length?a("div",{staticClass:"right"},["admin"===t.roles[0]?a("div",{staticClass:"pattern"},[a("div",{staticClass:"pattern-box",on:{click:t.patterns}},[!0===t.pattern?a("div",{staticClass:"label-pattern"},[t._v("审核模式")]):a("div",{staticClass:"watch-pattern rigjt-label"},[t._v("标注模式")])])]):t._e(),!1===t.pattern?a("div",{staticClass:"btnboxlist"},[a("div",{staticStyle:{height:"10px"}}),a("div",{staticClass:"contrlBtnlist"},[a("button",{staticClass:"contrlBtn",on:{click:t.save}},[t._v(" 保存ent")]),a("button",{staticClass:"contrlBtn",on:{click:t.labelOK}},[t._v(" O K ")]),a("button",{staticClass:"contrlBtn",on:{click:t.clearAllLabel}},[t._v(" 清空del ")])]),a("div",{staticClass:"errlistBox"},t._l(t.errList,(function(e,i){return a("span",{key:i,on:{click:function(e){return t.setCurrentErr(i)}}},[a("el-button",{staticClass:"btnbox",style:{background:e.color,color:"#fff",width:"80px"}},[t._v(" "+t._s(e.err_list)+" "),a("span",{staticClass:"shortcutKey"},[t._v(t._s(String.fromCharCode(t.shortcutKey[i])))])])],1)})),0)]):a("div",{staticClass:"btnboxlist"},[a("div",{staticClass:"adopt",on:{click:t.adopt}},[t._v("通过")]),a("div",{staticClass:"reject",on:{click:t.reject}},[t._v("驳回")])])]):a("div",[t._v("当前错误类型没有数据")])]):a("div",{staticClass:"label"},[a("NoDataSet")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"center-con"},[a("div",{attrs:{id:"hello-map"}})])}],s=(a("4160"),a("a434"),a("b0c0"),a("b680"),a("159b"),a("5530")),r=a("7e66"),o=a.n(r),c=a("4360"),l=a("2f62"),d=a("712e"),u=a("1462"),h=a("2498"),g=a("5d6b"),m={components:{NoDataSet:g["a"]},data:function(){return{reginfo:"空",loading:!1,shortcutKey:h["shortcutKey"],absorbed:0,pattern:!0,currentDataset:0,thisimg:c["a"].state.my.thisimg,currentimg:0,currentErrtype:0,datasetList:[],imgList:[],imgListbus:[],errList:[],gFetureStyle:[],labelData:{imgname:"",imgUrl:"",imgid:"",size:{w:"",h:""},labelInfo:[]},flag:!0,gTextLayer:Object,fea:Object,gFeatureLayer:Object,gMapMLayer:Object,gMap:Object}},computed:Object(s["a"])({},Object(l["b"])(["name","roles"])),watch:{currentimg:function(t,e){if(c["a"].commit("THISIMG",t),this.clearLabelInfo(),0!==document.getElementsByClassName("heigImgBox").length){document.getElementsByClassName("heigImgBox").forEach((function(t){t.classList.remove("heigImgBox")})),document.getElementById("img"+t).classList.add("heigImgBox");var a=document.getElementsByClassName("imglistbox")[0],i=a.scrollTop,n=170*(t-1)-i;a.scrollTop+=n}},pattern:function(t,e){void 0!==this.gMap.setMode&&(t?this.gMap.setMode("pan",this.gFetureStyle[0]):this.gMap.setMode("drawRect",this.gFetureStyle[0]))}},created:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)},mounted:function(){this.init()},destroyed:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},methods:{init:function(){-1===c["a"].state.my.currentset?this.currentDataset=0:this.currentDataset=c["a"].state.my.currentset,this.loading=!0,this.getDatasetList()},getDatasetList:function(){var t=this;Object(u["b"])().then((function(e){t.datasetList=e.data,0!==e.data.length&&(t.getCurrentDatasetInfo(),t.getButtonList())}))},getCurrentDatasetInfo:function(){var t=this;Object(u["d"])({dataset_id:this.datasetList[this.currentDataset].dataset_id}).then((function(e){t.imgList=e.data,t.loading=!1,t.currentimg=t.thisimg,t.setCurrent(t.currentimg),setTimeout((function(){0!==t.imgList.length&&t.gocurrentlsbel()}),100)}))},getButtonList:function(){var t=this;console.log(this.datasetList[this.currentDataset].dataset_id,"????????"),Object(u["c"])({dataset_id:this.datasetList[this.currentDataset].dataset_id}).then((function(e){t.errList=e.data,t.setBoxStyle(),"admin"!==t.roles[0]&&t.patterns()}))},setCurrentSetData:function(t){this.currentDataset=t,c["a"].commit("CURRENTSET",t),this.init()},setCurrent:function(t){this.currentimg=t,this.lodingImg(),this.getRegInfo(this.imgList[this.currentimg].image_path,this.datasetList[this.currentDataset].dataset_id)},setBoxStyle:function(){var t=this;this.errList.forEach((function(e,a){t.gFetureStyle[a]=new o.a.Style({strokeColor:e.color,lineWeight:2})}))},gFetureSty:function(t){return new o.a.Style({strokeColor:t,lineWeight:2})},setgTextStyle:function(t){return new o.a.Style({fontColor:"#ffffff",strokeColor:"#0000FF",bgColor:t})},setCurrentErr:function(t){if(this.gMap.setMode("drawRect",this.gFetureStyle[t]),c["a"].commit("CESHI_NUM",t),this.currentErrtype=t,c["a"].state.my.flag){this.labelData.labelInfo.forEach((function(e){e.id===c["a"].state.my.featureid.id&&(e.type=t)})),c["a"].state.my.featureid.data.errType=t;var e=this.gFeatureLayer.getFeatureById(c["a"].state.my.featureid.id);this.gFeatureLayer.removeFeatureById(c["a"].state.my.featureid.id),this.gMapMLayer.removeAllMarkers(),this.gTextLayer.removeTextById(c["a"].state.my.featureid.id);var a=new o.a.Style({strokeColor:this.errList[t].color,lineWeight:2}),i=new o.a.Feature.Rect(c["a"].state.my.featureid.id,e.points,{errType:t},a);this.gFeatureLayer.addFeature(i);var n=new o.a.Text(c["a"].state.my.featureid.id,{pos:{x:e.points[1].x,y:e.points[1].y},offset:{x:0,y:0},width:100,text:this.errList[t].err_list},this.setgTextStyle(this.errList[t].color));this.gTextLayer.addText(n),c["a"].commit("FLAG",!1)}},setImgLabelState:function(t){this.imgList[this.currentimg].bom_id=t},clearAllLabel:function(){this.clearLabelInfo(),this.upLabelData("2")},upLabelData:function(t){var e=this;console.log("存储是都有误",t,this.name,this.datasetList[this.currentDataset].dataset_id,this.imgList[this.currentimg].image_path),0!==this.imgList.length&&Object(d["j"])({bom_id:t,user_id:this.name,dataset_id:this.datasetList[this.currentDataset].dataset_id,img_id:this.imgList[this.currentimg].image_path,label_info:"1"===t||"2"===t?[]:"0"===t?this.labelData.labelInfo:[]}).then((function(a){e.setImgLabelState(t),"1"===t?e.currentimg>=e.imgList.length-1?(e.currentimg=e.imgList.length-1,e.$message({message:"后面没有图片啦",type:"warning",duration:800})):(e.$message({message:"OK保存成功",type:"success",duration:800}),e.currentimg++,e.lodingImg()):"2"===t?(e.lodingImg(),e.$message({message:"已清空",type:"success",duration:800})):"3"===t?e.next():(e.$message({message:"保存成功",type:"success",duration:800}),setTimeout((function(){e.next()}),100))}))},adopt:function(){var t=this;Object(d["g"])({turn_down:"1",img_id:this.imgList[this.currentimg].image_path,dataset_id:this.datasetList[this.currentDataset].dataset_id}).then((function(e){t.$message({message:"通过",type:"success",duration:800}),t.imgList[t.currentimg].turn_down="1",t.imgList.length-1!==t.currentimg&&t.next()}))},reject:function(){var t=this;this.$prompt("请输入驳回内容","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var a=e.value;Object(d["g"])({turn_down:"0",img_id:t.imgList[t.currentimg].image_path,dataset_id:t.datasetList[t.currentDataset].dataset_id,describe:a}).then((function(e){t.$message({message:"已成功驳回",type:"success",duration:800}),t.imgList[t.currentimg].turn_down="0",t.imgList.length-1!==t.currentimg&&t.next()}))})).catch((function(){t.$message({type:"info",message:"取消操作"})}))},showAbsorbed:function(t){var e=t.target.innerText;"常规"===e?0!==this.absorbed&&(this.absorbed=0,this.getCurrentDatasetInfo()):"待审核"===e?1!==this.absorbed&&(this.absorbed=1,this.getSpecificPicture("2")):"已驳回"===e?2!==this.absorbed&&(this.absorbed=2,this.getSpecificPicture("0")):"通过"===e?3!==this.absorbed&&(this.absorbed=3,this.getSpecificPicture("1")):this.absorbed=0},getSpecificPicture:function(t){var e=this;Object(u["f"])({dataset_id:this.datasetList[this.currentDataset].dataset_id,bom_id:"",turn_down:t}).then((function(t){e.currentimg=0,e.imgList=t.data,0===e.imgList.length&&e.$message({message:"没有选中数据",type:"warning",duration:800}),e.lodingImg()}))},patterns:function(){this.pattern=!this.pattern},clearLabelInfo:function(){this.labelData.imgname="",this.labelData.imgUrl="",this.labelData.imgid="",this.labelData.size.w="",this.labelData.size.h="",this.labelData.labelInfo=[]},save:function(t){0!==this.imgList&&(1===this.labelData.labelInfo.length&&0===this.labelData.labelInfo[0].coor.miny&&0===this.labelData.labelInfo[0].coor.maxy?this.upLabelData("1"):this.labelData.labelInfo.length>=1?this.upLabelData("0"):0===this.labelData.labelInfo.length&&"ok"===t?this.upLabelData("1"):0===this.labelData.labelInfo.length?this.upLabelData("3"):this.upLabelData("2"))},labelOK:function(){var t=this;this.labelData.labelInfo.length<1?this.save("ok"):this.$confirm("当前图片已有标记是清除所有标记并将其判定为OK?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.clearAllLabel(),t.save("ok")}))},prev:function(){this.currentimg<=0?(this.currentimg=0,this.$message({message:"前面没有图片啦",type:"warning",duration:800})):(this.currentimg--,this.lodingImg())},next:function(){this.currentimg>=this.imgList.length-1?(this.currentimg=this.imgList.length-1,this.$message({message:"后面没有图片啦",type:"warning",duration:800})):(this.currentimg++,this.lodingImg())},lodingImg:function(){this.label()},loadAnnotation:function(t,e){var a=this;Object(u["e"])({image_id:this.imgList[this.currentimg].image_path}).then((function(i){0!==i.data.length&&(a.labelData.labelInfo=[],i.data.forEach((function(t,e){t.xmin===t.xmax||t.ymin===t.ymax?console.log("不合格数据"):a.labelData.labelInfo.push({id:"feature-"+e,type:t.flaw_cat,coor:{minx:parseInt(t.xmin),miny:parseInt(t.ymin),maxx:parseInt(t.xmax),maxy:parseInt(t.ymax)}})})),a.coordinateTransformation(a.currentImg,t,e))}))},coordinateTransformation:function(t,e,a){var i=this;this.labelData.labelInfo.forEach((function(t,n){var s=t.type,r=Math.round(t.coor.minx-e/2),o=Math.round(-t.coor.miny+a/2),c=Math.round(t.coor.maxx-e/2),l=Math.round(-t.coor.maxy+a/2);if(r>c){var d=r;r=c,c=d}if(o>l){var u=o;o=l,l=u}var h=[{x:r,y:o},{x:r,y:l},{x:c,y:l},{x:c,y:o}];i.loadLabel(t.id,h,s,i.gFetureStyle[s],e,a)}))},loadLabel:function(t,e,a,i,n,s){var r=new o.a.Feature.Rect(t,e,{errType:a},i);this.gFeatureLayer.addFeature(r);var c=new o.a.Text(t,{pos:{x:e[1].x,y:e[1].y},offset:{x:0,y:0},width:100,text:void 0===this.errList[a]?"ok":this.errList[a].err_list},this.setgTextStyle(void 0===this.errList[a]?"#ffffff":this.errList[a].color));this.gTextLayer.addText(c)},istrue:function(t,e,a){var i=0;return t.forEach((function(t){t.x>-e/2&&t.x<e/2&&t.y>-a/2&&t.y<a/2&&(console.log("坐标点合法"),i++)})),0!==i},dataProcessing:function(t,e,a,i,n){var s=parseInt(a[0].x+i/2).toFixed(2),r=(-(a[0].y-n/2)).toFixed(2),o=(a[2].x+i/2).toFixed(2),c=(-(a[2].y-n/2)).toFixed(2);if(s<0&&(s=0),r<0&&(r=0),o<0&&(o=0),c<0&&(c=0),s>i&&(s=i),o>i&&(o=i),r>n&&(r=n),c>n&&(c=n),parseInt(s),parseInt(r),parseInt(o),parseInt(c),s>o){var l=s;s=o,o=l,console.log("交换")}if(r>c){var d=r;r=c,c=d}var u={minx:Math.round(s),miny:Math.round(r),maxx:Math.round(o),maxy:Math.round(c)},h=!0;this.labelData.labelInfo.forEach((function(a){a.id===t&&(a.type=e,a.coor=u,h=!1)})),h&&this.labelData.labelInfo.push({id:t,type:e,coor:u})},label:function(){var t,e,a,i=this;0===this.imgList.length?(t="static/none.png",e=100,a=100):(t=this.imgList[this.currentimg].image_path,e=this.imgList[this.currentimg].width,a=this.imgList[this.currentimg].height);var n=new o.a.Layer.Image("img",t,{w:e,h:a},{zIndex:1}),s=new o.a.Map("hello-map",{zoom:e,cx:0,cy:0,zoomMax:10*a,zoomMin:a/10,autoFeatureSelect:!0}),r=new o.a.Layer.Feature("featureLayer",{zIndex:2,transparent:!0}),l=new o.a.Layer.Text("textLayer",{zIndex:2});this.pattern?s.setMode("pan",this.gFetureStyle[0]):s.setMode("drawRect",this.gFetureStyle[0]),s.addLayer(n),s.addLayer(r),s.addLayer(l),this.gMap=s,this.gFeatureLayer=r,this.gTextLayer=l,this.gMapMLayer=s.mLayer,0!==this.imgList.length&&(this.loadAnnotation(e,a),s.events.on("geometryDrawDone",(function(t,n){var s=i.currentErrtype,c=(new Date).getTime(),d=i.istrue(n,e,a);if(d){var u=new o.a.Feature.Rect("feature-".concat(c),n,{errType:s},i.gFetureStyle[s]);r.addFeature(u);var h=new o.a.Text("feature-".concat(c),{pos:{x:n[1].x,y:n[1].y},offset:{x:0,y:0},width:100,text:i.errList[s].err_list},i.setgTextStyle(i.errList[s].color));l.addText(h),i.dataProcessing(u.id,s,u.points,e,a)}}))),s.events.on("geometryEditDone",(function(t,n,s){n.update({points:s}),n.show(),i.dataProcessing(n.id,n.data.errType,s,e,a)})),s.events.on("featureStatusReset",(function(){s.mLayer.removeAllMarkers(),c["a"].commit("FLAG",!1),c["a"].commit("FEATUREID","")})),s.events.on("geometryEditing",(function(t,e,a){if(s.mLayer){var i=s.mLayer.getMarkerById("marker-".concat(e.id));if(i){var n=l.getTextById(e.id);n||console.log("text is null");var r=o.a.Util.getBounds(a),c=r[0],d=r[1];i.update({x:c.x,y:c.y}),n.update({pos:{x:d.x,y:d.y}})}}})),s.events.on("featureSelected",(function(t){var e=t;c["a"].commit("FLAG",!0),c["a"].commit("FEATUREID",t);var a=e.getBounds(),n=a[0],d=a[1],u=new o.a.Marker("marker-".concat(e.id),{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDUlEQVQ4T6WTTW7CMBCF3yASLoGcZcItuEdZQttdaZdQqWEBS352/dm29+AWJFI3WL0ECWQqV3Ix2G6rxkt73jfPz2NCzUU19TgBbESYdmSR/gTNo6BfHfi987Ffq7pvgBIT8ADgLZFFzwXRNQxMdCPLgYIQ6CWWu0sT4mtgZXAs5FUiy6GCHPfoKZG7axPsDFELiDCrGOWXK+JFvC3vzq/mfQXDskpqmmyLe1cuXkAehVNmjJTIDO1PDjIRLAG6UUIiNMEY+yCWg1y0nhk8MAV5FMyZ6ZaANJbFxBtiJsJXABeuwky0HgG+Oj+zBskl1h11A+cgbdrNLhqN7m+jrF4HVbW2Rvm/n6r2b/wEyRV8EStP6T4AAAAASUVORK5CYII=",x:n.x,y:n.y,offset:{x:0,y:0},featureId:e.id});s.mLayer.addMarker(u);var h=l.getTextById(t.id);h.update({pos:{x:d.x,y:d.y}});var g=i;u.regEvent("click",(function(){var t=this;r.removeFeatureById(this.info.featureId),s.mLayer.removeMarkerById("marker-"+this.info.featureId),g.gTextLayer.removeTextById(this.info.featureId),0!==g.labelData.labelInfo&&g.labelData.labelInfo.forEach((function(e,a){e.id===t.info.featureId&&g.labelData.labelInfo.splice(a,1)}))}))})),window.onresize=function(){s&&s.resize()}},handleKeyDown:function(t){var e=this,a=window.event.keyCode?window.event.keyCode:window.event.which;console.log(a),this.pattern?13===a?this.adopt():8===a&&this.reject():(17===a?this.gMap.setMode("pan",this.gFetureStyle[0]):13===a?this.save():46===a?this.clearAllLabel():40===a?this.labelOK():51===a&&this.save(),h["shortcutKey"].forEach((function(i,n){i===a&&n<e.errList.length&&e.butKeyDown(t,a,n)})))},handleKeyUp:function(t){this.pattern||this.gMap.setMode("drawRect",this.gFetureStyle[0]),t.preventDefault()},butKeyDown:function(t,e,a){this.setCurrentErr(a),t.preventDefault()},gocurrentlsbel:function(){var t=document.getElementsByClassName("imglistbox")[0],e=t.scrollTop,a=170*(this.currentimg-1)-e;t.scrollTop+=a},getRegInfo:function(t,e){var a=this;console.log(t,e,"是否存在问题"),Object(u["a"])({img_id:t,dataset_id:e}).then((function(t){a.reginfo=t.data,console.log("请求返回的数据信息",t.data)})).catch((function(t){console.log(t,"接口请求错误")}))}}},f=m,b=(a("4ab2"),a("94d4"),a("2877")),y=Object(b["a"])(f,i,n,!1,null,"0ba5f9f4",null);e["default"]=y.exports},d14a:function(t,e,a){},d1d9:function(t,e,a){},df79:function(t,e,a){"use strict";a("d14a")}}]);